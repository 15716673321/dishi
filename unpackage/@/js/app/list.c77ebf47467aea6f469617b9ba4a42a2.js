/*coolie@0.23.5*/
define("0",["1"],function(t,n,e){"use strict";function d(){var t=u.getItem("help");if(null==t){var i="1.右上角添加事项<br/>2.点击事项查看详情<br/>3.长按事项删除<br/>4.右滑事项完成<br/>5.左滑显示完成事项",n='insert into t_plan_day_todo (id, plan_title, plan_content) values (1, "功能介绍", "'+i+'")';u.update(u.db(),n);u.insertItem("help","notfirst")}o()}function o(){var t=$("#todolist").empty();u.query(u.db(),"select * from t_plan_day_todo order by id desc",function(n){for(i=0;i<n.rows.length;i++)t.append(a(n.rows.item(i)));l(t)})}function a(t){var i=t.id,n=t.plan_title,e=t.plan_content,d='<li class="mui-table-view-cell" id="todoli_'+i+'" data-id="'+i+'"><div class="mui-slider-right mui-disabled"><a class="mui-btn mui-btn-red doneBtn">完成</a></div><div class="mui-slider-handle"><div class="mui-media-body">'+n+'<p class="mui-ellipsis">'+e+"</p></div></div></li>";return d}function l(t){t.find("li").size()>0&&t.is(":hidden")&&t.show()}function s(t){u.indexPage().evalJS("hideBackBtn();");var i=u.db(),n=t.detail.title,e=t.detail.content?t.detail.content:"暂无内容！";u.query(i,"select max(id) mid from t_plan_day_todo",function(t){var d=t.rows.item(0).mid?t.rows.item(0).mid:0;u.update(i,"insert into t_plan_day_todo (id, plan_title, plan_content) values ("+(d+1)+', "'+n+'", "'+e+'")');$("#todolist").prepend(a({id:d+1,plan_title:n,plan_content:e})).show()})}function r(){if(p){u.update(u.db(),"delete from t_plan_day_todo where id="+p);u.pop();o()}}var u=t("1");mui.init({keyEventBind:{backbutton:!1,menubutton:!1},gestureConfig:{longtap:!0}});var p=null;mui.plusReady(function(){d();window.addEventListener("swiperight",function(){u.indexPage().evalJS("opMenu();")});u.on("#todolist li","tap",function(){u.fire("detail","detailItem",{id:$(this).data("id")})});u.on(".doneBtn","tap",function(){var t=$(this).parent().parent(),i=t.data("id");t.remove();l($("#todolist"));u.fire("menu","doneItem",{todoId:i});return!1});u.on("#todolist li","longtap",function(){p=$(this).data("id");u.pop()});u.on(".delli","tap",r);window.addEventListener("addItem",s)})});
define("1",[],function(t,n,e){"use strict";n.on=function(t,n,e){$(document).off(n,t).on(n,t,e)};n.normalStyle={top:"45px",bottom:0};n.normalPage=function(t){return n.page(t,{styles:n.normalStyle})};n.centerStyle={top:"45px",bottom:"50px"};n.centerPage=function(t){return n.page(t,{styles:n.centerStyle})};n.page=function(t,n){var e=t+".html";n.id=t;n.url=e;return n};n.indexPage=function(){return plus.webview.getWebviewById(plus.runtime.appid)};n.currentPage=function(){return plus.webview.currentWebview()};n.getPage=function(t){return t?plus.webview.getWebviewById(t):null};n.show=function(t,n,e,o){t&&plus.webview.show(t,n,e,o)};n.hide=function(t,n,e){t&&plus.webview.hide(t,n,e)};n.fire=function(t,e,o){mui.fire(n.getPage(t),e,o)};n.tip=function(t,n){plus.nativeUI.toast(t,n)};n.waiting=function(t,n){plus.nativeUI.showWaiting(t,n)};n.closeWaiting=function(){plus.nativeUI.closeWaiting()};n.pop=function(){mui(".mui-popover").popover("toggle")};n.sheet=function(t,n,e){if(t&&n&&n.length>0){for(var o=[],i=0;i<n.length;i++)o.push({title:n[i]});plus.nativeUI.actionSheet({title:t,cancel:"取消",buttons:o},function(t){e&&e(t)})}};n.modaloptions={title:"title",abtn:"确定",cbtn:["确定","取消"],content:"content"};n.alert=function(t,e){var o=$.extend({},n.modaloptions);o.title="提示";"string"==typeof t?o.content=t:$.extend(o,t);plus.nativeUI.alert(o.content,function(t){e&&e()},o.title,o.abtn)};n.confirm=function(t,e,o){var i=$.extend({},n.modaloptions);i.title="确认操作";"string"==typeof t?i.content=t:$.extend(i,t);plus.nativeUI.confirm(i.content,function(t){var n=t.index;0==n&&e&&e();1==n&&o&&o()},i.title,i.cbtn)};n.prompt=function(t,e,o){var i=$.extend({},n.modaloptions);i.title="输入内容";"string"==typeof t?i.content=t:$.extend(i,t);plus.nativeUI.prompt(i.content,function(t){var n=t.index;0==n&&e&&e(t.value);1==n&&o&&o(t.value)},i.title,i.content,i.cbtn)};n.length=function(){return plus.storage.getLength()};n.key=function(t){return plus.storage.key(t)};n.getItem=function(t){if(t)for(var e=0;e<n.length();e++)if(t==plus.storage.key(e))return plus.storage.getItem(t);return null};n.insertItem=function(t,n){plus.storage.setItem(t,n)};n.delItem=function(t){plus.storage.removeItem(t)};n.clear=function(){plus.storage.clear()};n.db=function(t,n){var e=t?t:"db_test",o=n?n:2;return openDatabase(e,"1.0","db_test",1024*o*1024)};n.update=function(t,n){t&&n&&t.transaction(function(t){t.executeSql(n)})};n.query=function(t,n,e){t&&n&&t.transaction(function(t){t.executeSql(n,[],function(t,n){e(n)},null)})};n.exit=function(){n.confirm("确定要退出吗？",function(){plus.runtime.quit()})};n.endDown=function(t){var n=t?t:"#refreshContainer";mui(n).pullRefresh().endPulldownToRefresh()}});